(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{26:function(e,a,t){e.exports=t(44)},31:function(e,a,t){},32:function(e,a,t){},33:function(e,a,t){},39:function(e,a,t){},41:function(e,a,t){},42:function(e,a,t){},43:function(e,a,t){},44:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(23),o=t.n(r),c=(t(31),t(20)),i=(t(32),t(7)),s=(t(33),function(){return l.a.createElement("div",{className:"NavBar"},l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},l.a.createElement("li",{className:"navbar-brand"},l.a.createElement(i.b,{to:"/"},"Tu Mejor Ruta")),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"}),l.a.createElement("li",{className:"navbar-brand"},l.a.createElement(i.b,{to:"/grupos"},"Grupos")),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"}),l.a.createElement("li",{className:"navbar-brand"},l.a.createElement(i.b,{to:"/crear"},"Nuevo Grupo")),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"}),l.a.createElement("li",{className:"navbar-brand"},l.a.createElement(i.b,{to:"/login"},"Login")),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"})))}),u=t(5),m=(t(39),t(6)),d=t.n(m),p=t(15),g=t(9),E=t(10),b=t(12),f=t(11),v=t(13),h=function(e){function a(){var e,t;Object(g.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(b.a)(this,(e=Object(f.a)(a)).call.apply(e,[this].concat(l)))).state={loading:!0,calidadActual:null},t}return Object(v.a)(a,e),Object(E.a)(a,[{key:"componentDidMount",value:function(){var e=Object(p.a)(d.a.mark((function e(){var a,t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.waqi.info/feed/bogota/?token=dff319f47044fe2a774b924e794aead02b2d5e12",e.next=3,fetch("https://api.waqi.info/feed/bogota/?token=dff319f47044fe2a774b924e794aead02b2d5e12");case 3:return a=e.sent,e.next=6,a.json();case 6:t=e.sent,console.log(t.data.aqi),this.setState({calidadActual:t.data}),this.setState({loading:!1});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return l.a.createElement("div",null,this.state.loading?l.a.createElement("div",null,"Se esta cargando la informacion de la calidad del aire"):l.a.createElement("div",null,"Actualmente la calidad del aire en bogota es: ",this.state.calidadActual.aqi))}}]),a}(n.Component),N=t(16),w=function(e){function a(e){var t;return Object(g.a)(this,a),(t=Object(b.a)(this,Object(f.a)(a).call(this,e))).state={loading:!0,calidadActual:null,latitud:null,longitud:null},t.showPosition=t.showPosition.bind(Object(N.a)(t)),t}return Object(v.a)(a,e),Object(E.a)(a,[{key:"componentDidMount",value:function(){var e=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:navigator.geolocation?navigator.geolocation.getCurrentPosition(this.showPosition):console.log("Geolocation is not supported by this browser.");case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"showPosition",value:function(){var e=Object(p.a)(d.a.mark((function e(a){var t,n,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Latitude: "+a.coords.latitude+" Longitude: "+a.coords.longitude),this.setState({latitud:a.coords.latitude}),this.setState({longitud:a.coords.longitude}),t="https://api.waqi.info/feed/geo:"+this.state.latitud+";"+this.state.longitud+"/?token=dff319f47044fe2a774b924e794aead02b2d5e12",console.log("url"+t),e.next=7,fetch(t);case 7:return n=e.sent,e.next=10,n.json();case 10:l=e.sent,console.log(l.data.aqi),this.setState({calidadActual:l.data}),this.setState({loading:!1});case 14:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()},{key:"render",value:function(){return l.a.createElement("div",null,this.state.loading?l.a.createElement("div",null,"Se esta cargando la informacion de la calidad del aire"):l.a.createElement("div",null,"Actualmente la calidad en su lugar actual es: ",this.state.calidadActual.aqi))}}]),a}(n.Component),j=function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"jumbotron"}),l.a.createElement("h1",null,"Bienvenidos a EnBici"),l.a.createElement("div",{className:"container"},l.a.createElement(h,null),l.a.createElement(w,null)))},y=function(){return l.a.createElement("div",null,l.a.createElement("h1",null,"Inicia sesi\xf3n para compartir tus paseos"))},O=(t(41),function(e){return l.a.createElement("div",{className:"container",id:"TablaPaseo"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("p",null," ",e.nombre," "))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-8"},l.a.createElement("p",null," Ruta: ",e.ruta," ")),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("p",null," Participantes: ",e.numInscritas," "))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("p",null," Punto de Encuentro: ",e.puntoEncuentro," "))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-8"},l.a.createElement("p",null," Fecha: ",e.fecha," ")),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("button",{id:"BotonInscribirse"}," Inscribirse "))))}),k=(t(42),function(e){return l.a.createElement("div",null,l.a.createElement("div",{className:"titulo"},l.a.createElement("h1",null,"Rutas Actuales"),l.a.createElement("br",null)),l.a.createElement("ul",{class:"ListaPaseos"},e.paseos.map((function(e){return l.a.createElement("div",null,l.a.createElement(O,{key:e.nombre,nombre:e.nombre,ruta:e.ruta,fecha:e.fecha,puntoEncuentro:e.puntoEncuentro,numInscritas:e.numInscritas}),l.a.createElement("br",null))}))))}),x=(t(43),function(e){function a(){return Object(g.a)(this,a),Object(b.a)(this,Object(f.a)(a).apply(this,arguments))}return Object(v.a)(a,e),Object(E.a)(a,[{key:"formatDate",value:function(){var e=new Date,a=""+(e.getMonth()+1),t=""+e.getDate(),n=e.getFullYear();return a.length<2&&(a="0"+a),t.length<2&&(t="0"+t),[n,a,t].join("-")}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h1",null," Ingrese la informaci\xf3n de su nuevo paseo "),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("form",{action:"/crearPaseo",method:"POST"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{for:"nombre"},"Ingrese el nombre del paseo:"),l.a.createElement("input",{className:"form-control",type:"text",name:"nombre",placeholder:" Ingrese nombre"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Ingrese un punto de encuentro:"),l.a.createElement("input",{className:"form-control",type:"text",name:"puntoEncuentro",placeholder:" Ingrese punto de encuentro"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Ingrese la descripci\xf3n de la ruta:"),l.a.createElement("input",{className:"form-control",type:"text",name:"ruta",placeholder:" Ingrese descripci\xf3n de ruta"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Seleccione la cantidad m\xe1xima de personas:"),l.a.createElement("select",{className:"form-control",name:"numInscritas",id:"exampleFormControlSelect1"},l.a.createElement("option",null,"1"),l.a.createElement("option",null,"2"),l.a.createElement("option",null,"3"),l.a.createElement("option",null,"4"),l.a.createElement("option",null,"5"),l.a.createElement("option",null,"6"),l.a.createElement("option",null,"7"),l.a.createElement("option",null,"8"),l.a.createElement("option",null,"9"),l.a.createElement("option",null,"10"))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"productName"},"Seleccione la fecha de inicio: "),l.a.createElement("input",{className:"form-control",name:"fecha",type:"date",min:this.formatDate(),ref:"finishDate",required:!0})),l.a.createElement("input",{className:"btn",type:"submit",value:"Enviar"})))}}]),a}(n.Component)),A=function(){return l.a.createElement("div",null,l.a.createElement(x,null))};var S=function(){var e=Object(n.useState)([]),a=Object(c.a)(e,2),t=a[0],r=a[1],o=Object(n.useState)(""),m=Object(c.a)(o,2),d=m[0],p=m[1];function g(e){console.log("Latitude: "+e.coords.latitude+" Longitude: "+e.coords.longitude)}return Object(n.useEffect)((function(){var e=window.location.origin.replace(/^http/,"ws"),a=new WebSocket(e);a.onopen=function(){console.log("Connected to ws"),a.onmessage=function(e){r(JSON.parse(e.data)),console.log("Got ws data",e)}},navigator.geolocation?navigator.geolocation.getCurrentPosition(g):console.log("Geolocation is not supported by this browser."),fetch("paseos").then((function(e){return e.json()})).then((function(e){e.err?p(JSON.stringify(e.msg)):r(e)}))}),[]),l.a.createElement(i.a,null,l.a.createElement(u.c,null,l.a.createElement("div",{className:"App"},l.a.createElement("div",{className:"container"},l.a.createElement(s,null)),l.a.createElement(u.a,{path:"/",component:j,exact:!0}),l.a.createElement("div",{className:"container"},l.a.createElement(u.a,{path:"/grupos",render:function(e){return l.a.createElement(k,Object.assign({},e,{paseos:t}))}}),l.a.createElement(u.a,{path:"/login",component:y}),l.a.createElement(u.a,{path:"/crear",component:A})),d)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[26,1,2]]]);
//# sourceMappingURL=main.d96320c7.chunk.js.map