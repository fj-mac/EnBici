(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{26:function(e,a,t){e.exports=t(48)},31:function(e,a,t){},32:function(e,a,t){},33:function(e,a,t){},39:function(e,a,t){},41:function(e,a,t){},42:function(e,a,t){},43:function(e,a,t){},44:function(e,a,t){},45:function(e,a,t){},46:function(e,a,t){},47:function(e,a,t){},48:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(23),o=t.n(l),s=(t(31),t(17)),c=(t(32),t(13)),i=(t(33),function(e){return r.a.createElement("div",{className:"NavBar"},r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement(c.b,{className:"nombres",to:"/"},"Tu Mejor Ruta")),r.a.createElement("div",{className:"navbar-brand"},r.a.createElement(c.b,{className:"nombres",to:"/grupos"},"Grupos")),r.a.createElement("div",{className:"navbar-brand"},r.a.createElement(c.b,{className:"nombres",to:"/crear"},"Nuevo Grupo")),"No hay usuario"!==e.usuario?r.a.createElement("div",null,r.a.createElement("div",{className:"navbar-brand"},r.a.createElement(c.b,{className:"nombres",onClick:function(){fetch("/logout").then(console.log("Ya hizo logout"))}},"LogOut"))):r.a.createElement("div",null,r.a.createElement("div",{className:"navbar-brand"},r.a.createElement(c.b,{className:"nombres",to:"/login"},"LogIn")))))}),u=t(12),m=(t(39),t(9)),d=t.n(m),p=t(14),E=t(3),f=t(4),b=t(6),h=t(5),v=t(7),g=function(e){function a(){var e,t;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(b.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(r)))).state={loading:!0,calidadActual:null},t}return Object(v.a)(a,e),Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=Object(p.a)(d.a.mark((function e(){var a,t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.waqi.info/feed/bogota/?token=dff319f47044fe2a774b924e794aead02b2d5e12",e.next=3,fetch("https://api.waqi.info/feed/bogota/?token=dff319f47044fe2a774b924e794aead02b2d5e12");case 3:return a=e.sent,e.next=6,a.json();case 6:t=e.sent,console.log(t.data.aqi),this.setState({calidadActual:t.data}),this.setState({loading:!1});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,this.state.loading?r.a.createElement("div",null,"Se esta cargando la informacion de la calidad del aire"):r.a.createElement("div",null,"Actualmente la calidad del aire en bogota es: ",this.state.calidadActual.aqi))}}]),a}(n.Component),N=t(10),y=function(e){function a(e){var t;return Object(E.a)(this,a),(t=Object(b.a)(this,Object(h.a)(a).call(this,e))).state={loading:!0,calidadActual:null,latitud:null,longitud:null},t.showPosition=t.showPosition.bind(Object(N.a)(t)),t}return Object(v.a)(a,e),Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:navigator.geolocation?navigator.geolocation.getCurrentPosition(this.showPosition):console.log("Geolocation is not supported by this browser.");case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"showPosition",value:function(){var e=Object(p.a)(d.a.mark((function e(a){var t,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Latitude: "+a.coords.latitude+" Longitude: "+a.coords.longitude),this.setState({latitud:a.coords.latitude}),this.setState({longitud:a.coords.longitude}),t="https://api.waqi.info/feed/geo:"+this.state.latitud+";"+this.state.longitud+"/?token=dff319f47044fe2a774b924e794aead02b2d5e12",console.log("url"+t),e.next=7,fetch(t);case 7:return n=e.sent,e.next=10,n.json();case 10:r=e.sent,console.log(r.data.aqi),this.setState({calidadActual:r.data}),this.setState({loading:!1});case 14:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,this.state.loading?r.a.createElement("div",null,"Se esta cargando la informacion de la calidad del aire"):r.a.createElement("div",null,"Actualmente la calidad en su lugar actual es: ",this.state.calidadActual.aqi))}}]),a}(n.Component),k=(t(41),n.Component,t(42),function(){return r.a.createElement("div",null,r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"ICA"),r.a.createElement("th",{scope:"col"},"Calidad del Aire"),r.a.createElement("th",{scope:"col"},"Proteja su salud"))),r.a.createElement("tbody",null,r.a.createElement("tr",{className:"uno"},r.a.createElement("td",null,"0-50"),r.a.createElement("td",null,"Buena"),r.a.createElement("td",null,"No se anticipan impactos a la salud cuando la calidad del aire se encuentra en este intervalo.")),r.a.createElement("tr",{className:"dos"},r.a.createElement("td",null,"51-100"),r.a.createElement("td",null,"Moderada"),r.a.createElement("td",null,"Las personas extraordinariamente sensitivas deben considerar limitaci\xf3n de los esfuerzos f\xedsicos excesivos y prolongados al aire libre.")),r.a.createElement("tr",{className:"tres"},r.a.createElement("td",null,"101-150"),r.a.createElement("td",null,"Da\xf1ina a la Salud de los Grupos Sensitivos"),r.a.createElement("td",null,"Los ni\xf1os y adultos activos, y personas con enfermedades respiratorias tales como el asma, deben evitar los esfuerzos f\xedsicos excesivos y prolongados al aire libre.")),r.a.createElement("tr",{className:"cuatro"},r.a.createElement("td",null,"151-200"),r.a.createElement("td",null,"Da\xf1ina a la Salud"),r.a.createElement("td",null,"Los ni\xf1os y adultos activos, y personas con enfermedades respiratorias tales como el asma, deben evitar los esfuerzos excesivos prolongados al aire libre; las dem\xe1s personas, especialmente los ni\xf1os, deben limitar los esfuerzos f\xedsicos excesivos y prolongados al aire libre.")),r.a.createElement("tr",{className:"cinco"},r.a.createElement("td",null,"201-300"),r.a.createElement("td",null,"Muy Da\xf1ina a la Salud"),r.a.createElement("td",null,"Los ni\xf1os y adultos activos, y personas con enfermedades respiratorias tales como el asma, deben evitar todos los esfuerzos excesivos al aire libre; las dem\xe1s personas, especialmente los ni\xf1os, deben limitar los esfuerzos f\xedsicos excesivos al aire libre.")),r.a.createElement("tr",{className:"seis"},r.a.createElement("td",null,"300+"),r.a.createElement("td",null,"Arriesgado"),r.a.createElement("td",null)))))}),I=function(e){return r.a.createElement("div",{class:"text-center"},r.a.createElement("h1",null,"Bienvenidos"),r.a.createElement("p",null,"Nos interesa su seguridad y su salud. Por esto hemos desarrollado la aplicaci\xf3n donde podr\xe1 consultar r\xe1pidamente el estado actual de la calidad del aire de Bogot\xe1 (inicialmente se desarrolla la app para esta ciudad) adem\xe1s de la medici\xf3n de la calidad de aire mas cercana a usted. "),r.a.createElement("p",null,"A todos ustedes que montan bicicleta les recomendamos siempre mirar el estado actual de donde est\xe9n. As\xed pueden tomar las medidas que consideren necesarias. Si van de paseo o si van al trabajo, siempre es mejor ir acompa\xf1ado y consciente de las condiciones externas. "),r.a.createElement("p",null,"Para utilizar nuestra aplicaci\xf3n simplemente ve a la pesta\xf1a de Login y reg\xedstrate. Luego ingresa y a continuaci\xf3n pon grupos para buscar un grupo de ciclistas que compartan tu misma ruta o pon crear grupo para crear tu propia ruta. Selecciona todos los campos necesarios en caso de crear un nuevo grupo y perm\xedtenos ayudarte a encontrar compa\xf1eros de ruta. "),r.a.createElement("p",null,"Recuerda siempre verificar las condiciones de tu entorno antes de salir (las generales y las m\xe1s cercanas a ti). Recuerda siempre llevar casco y viaja con precauci\xf3n."),r.a.createElement("h1",null,"Feliz d\xeda EnBici"))},w=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"jumbotron"}),r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"tituloHome"},"Bienvenidos a EnBici"),r.a.createElement(g,null),r.a.createElement(y,null),r.a.createElement(k,null),r.a.createElement(I,null)))},O=(t(43),function(e){function a(e){var t;return Object(E.a)(this,a),(t=Object(b.a)(this,Object(h.a)(a).call(this,e))).state={Login:!1},t.onClick=t.onClick.bind(Object(N.a)(t)),t.checkInput=t.checkInput.bind(Object(N.a)(t)),t.linkInput1=r.a.createRef(),t.linkInput2=r.a.createRef(),t}return Object(v.a)(a,e),Object(f.a)(a,[{key:"onClick",value:function(){1==this.state.Login?this.setState({Login:!1}):this.setState({Login:!0})}},{key:"checkInput",value:function(){this.linkInput1.value!=this.linkInput2.value?this.linkInput2.setCustomValidity("Password Must be Matching."):this.linkInput2.setCustomValidity("")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h1",{className:"TituloLogin"},"Inicia sesi\xf3n para compartir tus paseos"),this.state.Login?r.a.createElement("div",null,r.a.createElement("form",{action:"/users",method:"POST"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{ref:"name"},"Ingrese su Usuario:"),r.a.createElement("input",{className:"form-control",name:"user",id:"name",placeholder:" Usuario"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{ref:"password"},"Ingrese su contrase\xf1a:"),r.a.createElement("input",{className:"form-control",ref:function(a){return e.linkInput1=a},type:"password",name:"password",id:"passwordOriginal",placeholder:" Contrase\xf1a"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{ref:"password"},"Repita su contrase\xf1a:"),r.a.createElement("input",{className:"form-control",ref:function(a){return e.linkInput2=a},onInput:this.checkInput,type:"password",name:"password",id:"password",placeholder:" Contrase\xf1a"})),r.a.createElement("input",{className:"btn",type:"submit",value:"Submit"}))):r.a.createElement("div",null,r.a.createElement("form",{action:"/loginUsuario",method:"POST"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{ref:"name"},"Ingrese su Usuario:"),r.a.createElement("input",{className:"form-control",name:"user",id:"name",placeholder:" Usuario"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{ref:"password"},"Ingrese su contrase\xf1a:"),r.a.createElement("input",{className:"form-control",name:"password",id:"password",placeholder:" Contrase\xf1a"})),r.a.createElement("input",{className:"btn",type:"submit",value:"Submit"}))),r.a.createElement("div",{class:"text-center"},this.state.Login?r.a.createElement("div",null,r.a.createElement("button",{onClick:this.onClick},"Ir a Login")):r.a.createElement("div",null,r.a.createElement("button",{onClick:this.onClick},"Ir a registro"))))}}]),a}(r.a.Component)),j=(t(44),function(e){function a(e){var t;return Object(E.a)(this,a),(t=Object(b.a)(this,Object(h.a)(a).call(this,e))).state={Login:!1},t.onClick=t.onClick.bind(Object(N.a)(t)),t.checkInput=t.checkInput.bind(Object(N.a)(t)),t.linkInput1=r.a.createRef(),t.linkInput2=r.a.createRef(),t}return Object(v.a)(a,e),Object(f.a)(a,[{key:"onClick",value:function(){1==this.state.Login?this.setState({Login:!1}):this.setState({Login:!0})}},{key:"checkInput",value:function(){this.linkInput1.value!=this.linkInput2.value?this.linkInput2.setCustomValidity("Password Must be Matching."):this.linkInput2.setCustomValidity("")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h1",{className:"TituloLogin"},"Inicia sesi\xf3n para compartir tus paseos"),this.state.Login?r.a.createElement("div",null,r.a.createElement("form",{action:"/users",method:"POST"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{ref:"name"},"Ingrese su Usuario:"),r.a.createElement("input",{className:"form-control",name:"user",id:"name",placeholder:" Usuario"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{ref:"password"},"Ingrese su contrase\xf1a:"),r.a.createElement("input",{className:"form-control",ref:function(a){return e.linkInput1=a},type:"password",name:"password",id:"passwordOriginal",placeholder:" Contrase\xf1a"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{ref:"password"},"Repita su contrase\xf1a:"),r.a.createElement("input",{className:"form-control",ref:function(a){return e.linkInput2=a},onInput:this.checkInput,type:"password",name:"password",id:"password",placeholder:" Contrase\xf1a"})),r.a.createElement("input",{className:"btn",type:"submit",value:"Submit"}))):r.a.createElement("div",null,r.a.createElement("form",{action:"/loginUsuario",method:"POST"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{ref:"name"},"Ingrese su Usuario:"),r.a.createElement("input",{className:"form-control",name:"user",id:"name",placeholder:" Usuario"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{ref:"password"},"Ingrese su contrase\xf1a:"),r.a.createElement("p",{className:"passwordFail"},"La contrase\xf1a ingresada es incorrecta. Intente nuevamente."),r.a.createElement("input",{className:"form-control",name:"password",id:"password",placeholder:" Contrase\xf1a"})),r.a.createElement("input",{className:"btn",type:"submit",value:"Submit"}))),r.a.createElement("div",{class:"text-center"},this.state.Login?r.a.createElement("div",null,r.a.createElement("button",{onClick:this.onClick},"Ir a Login")):r.a.createElement("div",null,r.a.createElement("button",{onClick:this.onClick},"Ir a registro"))))}}]),a}(r.a.Component)),S=(t(45),function(e){return r.a.createElement("div",{className:"container TablaPaseo"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("p",null," ",e.nombre," "))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("p",null," Ruta: ",e.ruta," ")),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("p",null," Cupos disponibles: ",e.capacidad-e.numInscritas," "))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("p",null," Punto de Encuentro: ",e.puntoEncuentro," "))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("p",null," Fecha: ",e.fecha," ")),"No hay usuario"!==e.usuario?r.a.createElement("div",{className:"col-md-4"},r.a.createElement("button",{id:"BotonInscribirse",onClick:function(){e.numInscritas<e.capacidad?fetch("/upDatePaseo",{method:"POST",body:{nombre:e.nombre,numInscritas:e.numInscritas}}).then(console.log("Se inscribio")):console.log("Se acabaron los cupos")}}," Inscribirse ")):r.a.createElement("div",{className:"col-md-4"},r.a.createElement("p",null," Debe iniciar sesi\xf3n para inscribirse "))))}),C=(t(46),function(e){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h1",{className:"tituloGrupos"},"Rutas Actuales"),r.a.createElement("br",null)),r.a.createElement("div",{class:"ListaPaseos"},e.paseos.map((function(a){return r.a.createElement("div",null,r.a.createElement(S,{key:a.nombre,capacidad:a.capacidad,usuario:e.usuario,nombre:a.nombre,ruta:a.ruta,fecha:a.fecha,puntoEncuentro:a.puntoEncuentro,numInscritas:a.numInscritas}),r.a.createElement("br",null))}))))}),L=(t(47),function(e){function a(e){return Object(E.a)(this,a),Object(b.a)(this,Object(h.a)(a).call(this,e))}return Object(v.a)(a,e),Object(f.a)(a,[{key:"formatDate",value:function(){var e=new Date,a=""+(e.getMonth()+1),t=""+e.getDate(),n=e.getFullYear();return a.length<2&&(a="0"+a),t.length<2&&(t="0"+t),[n,a,t].join("-")}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",{className:"tituloForm"}," Ingrese la informaci\xf3n de su nuevo paseo "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("form",{action:"/crearPaseo",method:"POST"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"nombre"},"Ingrese el nombre del paseo:"),r.a.createElement("input",{className:"form-control",type:"text",name:"nombre",placeholder:" Ingrese nombre"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Ingrese un punto de encuentro:"),r.a.createElement("input",{className:"form-control",type:"text",name:"puntoEncuentro",placeholder:" Ingrese punto de encuentro"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Ingrese la descripci\xf3n de la ruta:"),r.a.createElement("input",{className:"form-control",type:"text",name:"ruta",placeholder:" Ingrese descripci\xf3n de ruta"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Seleccione la cantidad m\xe1xima de personas:"),r.a.createElement("input",{className:"form-control",type:"number",name:"capacidad",placeholder:"Ingrese la capacidad m\xe1xima"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"productName"},"Seleccione la fecha de inicio: "),r.a.createElement("input",{className:"form-control",name:"fecha",type:"date",min:this.formatDate(),ref:"finishDate",required:!0})),r.a.createElement("input",{type:"hidden",name:"user",value:this.props.usuario}),r.a.createElement("input",{type:"hidden",name:"numInscritas",value:"0"}),r.a.createElement("input",{className:"btn",type:"submit",value:"Enviar"})))}}]),a}(n.Component)),x=function(e){return r.a.createElement("div",null,r.a.createElement(L,{usuario:e.usuario}))};var P=function(){var e=Object(n.useState)([]),a=Object(s.a)(e,2),t=a[0],l=a[1],o=Object(n.useState)(""),m=Object(s.a)(o,2),d=(m[0],m[1]),p=Object(n.useState)("null"),E=Object(s.a)(p,2),f=E[0],b=E[1];function h(e){console.log("Latitude: "+e.coords.latitude+" Longitude: "+e.coords.longitude)}return Object(n.useEffect)((function(){var e=window.location.origin.replace(/^http/,"ws"),a=new WebSocket(e);a.onopen=function(){console.log("Connected to ws"),a.onmessage=function(e){l(JSON.parse(e.data)),console.log("Got ws data",e)}},navigator.geolocation?navigator.geolocation.getCurrentPosition(h):console.log("Geolocation is not supported by this browser."),fetch("paseos").then((function(e){return e.json()})).then((function(e){e.err?d(JSON.stringify(e.msg)):l(e)})),fetch("actual").then((function(e){return e.json()})).then((function(e){if("No hay nada"!==e){var a=JSON.parse(e);b(a.actual)}else b("No hay usuario")}))}),[]),r.a.createElement(c.a,null,r.a.createElement(u.c,null,r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"container"},r.a.createElement(i,{usuario:f}),r.a.createElement(u.a,{path:"/",component:w,exact:!0}),r.a.createElement(u.a,{path:"logout",component:w}),r.a.createElement(u.a,{path:"/grupos",render:function(e){return r.a.createElement(C,Object.assign({},e,{usuario:f,paseos:t}))}}),r.a.createElement(u.a,{path:"/login",component:O}),r.a.createElement(u.a,{path:"/loginAgain",component:j}),r.a.createElement(u.a,{path:"/crear",render:function(e){return r.a.createElement(x,Object.assign({},e,{usuario:f}))}})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[26,1,2]]]);
//# sourceMappingURL=main.ad9c50a0.chunk.js.map